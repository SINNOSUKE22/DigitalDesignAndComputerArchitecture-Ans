# 演習問題6.15

元の機械語をアセンブリ言語に変換した結果は以下の通り


```
2008001f
001000 00000 01000 0000000000011111
(I形式) addi $t0, $0, 0x1F # $t0 = 0x1F

01044806
000000 01000 00100 01001 00000 000110
(R形式) srlv $t1, $a0, $t0 # $t1 = $a0 >> $t0

31290001
001100 01001 01001 0000000000000001
(I形式) andi $t1, $t1, 0x1 # $t1 = $t1 & 1

0009482a
000000 00000 01001 01001 00000 101010
(R形式) slt $t1, $0, $t1   # $t1 = 0 < $t1 ? 1 : 0

a0a90000
101000 00101 01001 0000000000000000
(I形式) sb $t1, 0x0($a1)  # [$a1] = $t1

20a50001
001000 00101 00101 0000000000000001
(I形式) addi $a1, $a1, 0x1 # $a1 = $a1 + 1

2108ffff
001000 01000 01000 1111111111111111
(I形式) addi $t0, $t0, -1  # $t0 = $t0 - 1

0501fff9
000001 01000 00001 1111111111111001
(I形式) bgez $t0, -8       # if ($t0 >= 0) jmp -7

03e00008
000000 11111 00000 00000 00000 001000
(R形式) jr $ra
```

```c
void foo(int a0, int *a1) {
    t0 = 31;
    do {
        t1 = a0 >> t0;
    	t1 = t1 & 1;
	t1 = 0 < t1 ? 1 : 0;
    	*a1 = t1;
    	a1 = a1 + 1;
    	t0 = t0 - 1;
    } while (t0 >= 0);
    return;
}
```

32ビットのa0のMSBからLSBに向かってのビットの並びをバイトの配列に格納する。
